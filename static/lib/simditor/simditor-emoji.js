!function(e,n){"function"==typeof define&&define.amd?define("simditor-emoji",["jquery","simditor"],function(t,o){return e.EmojiButton=n(t,o)}):"object"==typeof exports?module.exports=n(require("jquery"),require("Simditor")):e.SimditorEmoji=n(e.jQuery,e.Simditor)}(this,function(e,n){var t,o={}.hasOwnProperty,i=function(e,n){function t(){this.constructor=e}for(var i in n)o.call(n,i)&&(e[i]=n[i]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e},r=[].slice;return t=function(n){function t(){var n;n=1<=arguments.length?r.call(arguments,0):[],t.__super__.constructor.apply(this,n),e.merge(this.editor.formatter._allowedAttributes.img,["data-emoji","alt"])}return i(t,n),t.i18n={"zh-CN":{emoji:"表情"},"en-US":{emoji:"emoji"}},t.images=["smile.png","smiley.png","laughing.png","blush.png","heart_eyes.png","smirk.png","flushed.png","grin.png","wink.png","kissing_closed_eyes.png","stuck_out_tongue_winking_eye.png","stuck_out_tongue.png","sleeping.png","worried.png","expressionless.png","sweat_smile.png","cold_sweat.png","joy.png","sob.png","angry.png","mask.png","scream.png","sunglasses.png","heart.png","broken_heart.png","star.png","anger.png","exclamation.png","question.png","zzz.png","thumbsup.png","thumbsdown.png","ok_hand.png","punch.png","v.png","clap.png","muscle.png","pray.png","skull.png","trollface.png"],t.prototype.name="emoji",t.prototype.icon="smile-o",t.prototype.menu=!0,t.prototype.renderMenu=function(){var n,o,i,r,p,g,s,a,u,m;for(s='<ul class="emoji-list">\n</ul>',p=e.extend({imagePath:"images/emoji/",images:t.images},this.editor.opts.emoji||{}),i="",o=p.imagePath.replace(/\/$/,"")+"/",m=p.images,a=0,u=m.length;a<u;a++)r=m[a],g=""+o+r,r=r.split(".")[0],i+="<li data-name='"+r+"'><img src='"+g+"' width='20' height='20' alt='"+r+"' /></li>";return n=e(s),n.html(i).appendTo(this.menuWrapper),n.on("mousedown","li",function(n){return function(t){var o;if(n.wrapper.removeClass("menu-on"),n.editor.inputManager.focused)return o=e(t.currentTarget).find("img").clone().attr({"data-emoji":!0,"data-non-image":!0}),n.editor.selection.insertNode(o),n.editor.trigger("valuechanged"),n.editor.trigger("selectionchanged"),!1}}(this))},t.prototype.status=function(){},t}(n.Button),n.Toolbar.addButton(t),t});